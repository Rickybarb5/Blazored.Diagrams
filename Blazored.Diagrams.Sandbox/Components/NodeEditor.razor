<MudCard>
    <MudCardHeader>
        <MudText>Edit Node</MudText>
        <MudSpacer></MudSpacer>
    </MudCardHeader>
    <MudCardContent>
        <MudText>ID: @Node.Id</MudText>
        <MudButton OnClick="AddPort" Variant="Variant.Filled">Add port</MudButton>
        <MudSpacer></MudSpacer>
        <MudButton OnClick="DeleteNode" Color="Color.Error" Variant="Variant.Filled">Delete Node</MudButton>
    </MudCardContent>

</MudCard>

@code {
    [Parameter] public INode Node { get; set; }
    [CascadingParameter] IDiagramService Service { get; set; }

    private void AddPort(MouseEventArgs obj)
    {
        foreach (var position in Enum.GetValues<PortAlignment>())
        {
            foreach (var alignment in Enum.GetValues<PortJustification>())
            {
                if (Node.Ports.Any(x => x.Alignment == position && x.Justification == alignment) || position == PortAlignment.Custom) continue;
                var port = new Port();
                port.Justification = alignment;
                port.Alignment = position;
                Node.Ports.Add(port);
                return;
            }
        }
    }

    private void DeleteNode(MouseEventArgs obj)
    {
        Service.Remove.Node(Node);
    }

}